!function(){"use strict";function t(){const t=window.location.pathname;return t.includes("/produto/")?"product":t.includes("/comparar/")?"comparison":t.includes("/categoria/")?"category":"home"}if(document.addEventListener("DOMContentLoaded",function(){document.addEventListener("click",function(e){const n=e.target.closest("[data-track-offer]");n&&function(e){if("undefined"==typeof Analytics)return;const n=e.dataset.productId||"unknown",a=e.dataset.retailer||e.textContent.trim(),o=parseFloat(e.dataset.price)||0,i=parseInt(e.dataset.position)||1,c=e.dataset.pageType||t();Analytics.trackOfferClick(n,a,o,i,c)}(n);const a=e.target.closest("[data-track-compare-add]");a&&function(t){if("undefined"==typeof Analytics)return;const e=t.dataset.productId||"unknown";Analytics.trackCompareAdd(e)}(a)}),function(){const t=new MutationObserver(function(t){t.forEach(function(t){if("attributes"===t.type&&"class"===t.attributeName){const e=t.target;e.classList.contains("active")&&"compare-modal"===e.id&&function(){if("undefined"==typeof Analytics||"undefined"==typeof Comparator)return;const t=Comparator.getItems?Comparator.getItems():[];t.length>0&&Analytics.trackCompareView(t)}()}})}),e=document.getElementById("compare-modal");e&&t.observe(e,{attributes:!0})}(),console.log("[GA4] Event tracking initialized")}),"undefined"!=typeof Router){const t=Router.navigate;Router.navigate=function(e){t.call(Router,e),"undefined"!=typeof Analytics&&Analytics.trackPageView(e,document.title)}}window.GA4Track={offerClick:function(e,n,a,o){"undefined"!=typeof Analytics&&Analytics.trackOfferClick(e,n,a,o||1,t())},compareAdd:function(t){"undefined"!=typeof Analytics&&Analytics.trackCompareAdd(t)},emailSubmit:function(t){"undefined"!=typeof Analytics&&Analytics.trackEmailSubmit(t||"newsletter")}}}();